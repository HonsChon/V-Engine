# ğŸ® V Engine

**V Engine** æ˜¯ä¸€ä¸ªåŸºäº Vulkan çš„ç°ä»£æ¸¸æˆå¼•æ“ï¼Œä¸“æ³¨äºå›¾å½¢æ¸²æŸ“æŠ€æœ¯ã€ECS æ¶æ„å’Œå®æ—¶ç¼–è¾‘å™¨çš„å­¦ä¹ ä¸å®è·µã€‚

> ğŸš§ **å¼€å‘ä¸­** - è¯¥é¡¹ç›®æ­£åœ¨ç§¯æå¼€å‘ï¼ŒAPI å¯èƒ½ä¼šå‘ç”Ÿå˜åŒ–ã€‚

---

## âœ¨ ç‰¹æ€§

### ğŸ¨ æ¸²æŸ“ç³»ç»Ÿ
- **åŒç®¡çº¿æ¸²æŸ“** - å‰å‘æ¸²æŸ“ + å»¶è¿Ÿæ¸²æŸ“ï¼Œå¯å®æ—¶åˆ‡æ¢
- **G-Buffer** - å¤šæ¸²æŸ“ç›®æ ‡ (MRT)ï¼Œå­˜å‚¨ä¸–ç•Œä½ç½®/æ³•çº¿/Albedo/æ·±åº¦
- **PBR æè´¨** - Cook-Torrance BRDFï¼Œå·¥ä¸šæ ‡å‡†ç‰©ç†æ¸²æŸ“
- **å±å¹•ç©ºé—´åå°„ (SSR)** - å®æ—¶åå°„æ•ˆæœï¼Œæ”¯æŒå°„çº¿æ­¥è¿›ä¼˜åŒ–
- **æ°´é¢æ¸²æŸ“** - æ³¢çº¹åŠ¨ç”» + åå°„/æŠ˜å°„ + æ·±åº¦èåˆ
- **Push Constants** - é«˜é¢‘æ•°æ®ä¼ è¾“ï¼Œæ”¯æŒæ¯å®ä½“ç‹¬ç«‹å˜æ¢çŸ©é˜µ

### ğŸ—ï¸ å¼•æ“æ¶æ„
- **ECS ç³»ç»Ÿ** - Entity-Component-Systemï¼ŒåŸºäº EnTT åº“
- **æ¨¡å—åŒ–æ¸²æŸ“é€šé“** - æ¯ä¸ª Pass ç‹¬ç«‹ç®¡ç† Pipelineã€Descriptorã€UBO
- **å°„çº¿æ‹¾å–** - åŸºäº AABB åŒ…å›´ç›’çš„é¼ æ ‡ç‚¹å‡»é€‰æ‹©
- **åœºæ™¯å±‚çº§** - å¸¦å˜æ¢ç»§æ‰¿çš„åœºæ™¯å›¾ç³»ç»Ÿ
- **ç›¸æœºç³»ç»Ÿ** - FPS é£æ ¼çš„ç¬¬ä¸€äººç§°ç›¸æœºæ§åˆ¶

### ğŸ–¥ï¸ ç¼–è¾‘å™¨åŠŸèƒ½
- **ImGui é›†æˆ** - ç°ä»£åŒ–ç¼–è¾‘å™¨ UI
- **å®æ—¶è°ƒè¯•é¢æ¿** - FPSã€é¡¶ç‚¹æ•°ã€ä¸‰è§’å½¢æ•°ç»Ÿè®¡
- **åœºæ™¯å±‚çº§é¢æ¿** - å¯è§†åŒ–åœºæ™¯ç»“æ„ï¼Œæ”¯æŒé€‰æ‹©å’Œå±•å¼€
- **å±æ€§æ£€æŸ¥å™¨** - å®æ—¶ç¼–è¾‘å®ä½“çš„å˜æ¢ã€æè´¨ç­‰å±æ€§
- **èµ„æºæµè§ˆå™¨** - æ–‡ä»¶ç³»ç»Ÿæµè§ˆï¼Œæ”¯æŒèµ„æºé¢„è§ˆ

### ğŸ”§ å¼€å‘ç‰¹æ€§
- **çƒ­é‡è½½** - æ”¯æŒæ‹–æ‹½åŠ è½½ OBJ æ¨¡å‹
- **å¤šå‡ ä½•ä½“** - å†…ç½®çƒä½“ã€ç«‹æ–¹ä½“ã€å¹³é¢ã€è‡ªå®šä¹‰ OBJ ç”Ÿæˆå™¨
- **è·¨å¹³å°** - æ”¯æŒ Windows å’Œ macOS
- **å®æ—¶ç¼–è¾‘** - åœ¨ Inspector ä¸­ä¿®æ”¹å±æ€§ç«‹å³ç”Ÿæ•ˆ

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
VEngine/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/                    # æ ¸å¿ƒç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ VulkanDevice.*       # Vulkan è®¾å¤‡ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ VulkanSwapChain.*    # äº¤æ¢é“¾ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ VulkanBuffer.*       # GPU ç¼“å†²åŒºå°è£…
â”‚   â”‚   â””â”€â”€ VulkanTexture.*      # çº¹ç†èµ„æºç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ renderer/                # æ¸²æŸ“å™¨
â”‚   â”‚   â””â”€â”€ VulkanRenderer.*     # ä¸»æ¸²æŸ“å™¨ (åè°ƒå„ Pass)
â”‚   â”‚
â”‚   â”œâ”€â”€ passes/                  # æ¸²æŸ“é€šé“ (æ¨¡å—åŒ–)
â”‚   â”‚   â”œâ”€â”€ RenderPassBase.h     # æ¸²æŸ“é€šé“åŸºç±»
â”‚   â”‚   â”œâ”€â”€ ForwardPass.*        # å‰å‘æ¸²æŸ“é€šé“
â”‚   â”‚   â”œâ”€â”€ GBufferPass.*        # G-Buffer é€šé“ (å»¶è¿Ÿæ¸²æŸ“ç¬¬ä¸€é˜¶æ®µ)
â”‚   â”‚   â”œâ”€â”€ LightingPass.*       # å…‰ç…§é€šé“ (å»¶è¿Ÿæ¸²æŸ“ç¬¬äºŒé˜¶æ®µ)
â”‚   â”‚   â”œâ”€â”€ SSRPass.*            # å±å¹•ç©ºé—´åå°„é€šé“
â”‚   â”‚   â””â”€â”€ WaterPass.*          # æ°´é¢æ¸²æŸ“é€šé“
â”‚   â”‚
â”‚   â”œâ”€â”€ scene/                   # ECS åœºæ™¯ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ Scene.*              # åœºæ™¯å®¹å™¨ (ç®¡ç† EnTT Registry)
â”‚   â”‚   â”œâ”€â”€ Entity.*             # å®ä½“å°è£… (EnTT Entity çš„å‹å¥½æ¥å£)
â”‚   â”‚   â”œâ”€â”€ Components.h         # ECS ç»„ä»¶å®šä¹‰
â”‚   â”‚   â”œâ”€â”€ Camera.*             # ç›¸æœºç³»ç»Ÿ
â”‚   â”‚   â”œâ”€â”€ Mesh.*               # ç½‘æ ¼å‡ ä½•ä½“
â”‚   â”‚   â”œâ”€â”€ RayPicker.*          # å°„çº¿æ‹¾å– (3D ç‰©ä½“é€‰æ‹©)
â”‚   â”‚   â””â”€â”€ SelectionManager.*   # é€‰æ‹©çŠ¶æ€ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ ui/                      # ç¼–è¾‘å™¨ UI
â”‚   â”‚   â”œâ”€â”€ ImGuiLayer.*         # ImGui é›†æˆå±‚
â”‚   â”‚   â”œâ”€â”€ UIManager.*          # UI é¢æ¿ç®¡ç†å™¨
â”‚   â”‚   â””â”€â”€ panels/              # UI é¢æ¿
â”‚   â”‚       â”œâ”€â”€ DebugPanel.*     # è°ƒè¯•ä¿¡æ¯é¢æ¿
â”‚   â”‚       â”œâ”€â”€ SceneHierarchyPanel.*  # åœºæ™¯å±‚çº§é¢æ¿
â”‚   â”‚       â”œâ”€â”€ InspectorPanel.* # å±æ€§æ£€æŸ¥å™¨é¢æ¿
â”‚   â”‚       â””â”€â”€ AssetBrowserPanel.*    # èµ„æºæµè§ˆå™¨é¢æ¿
â”‚   â”‚
â”‚   â””â”€â”€ main.cpp                 # ç¨‹åºå…¥å£
â”‚
â”œâ”€â”€ shaders/                     # GLSL ç€è‰²å™¨
â”‚   â”œâ”€â”€ pbr.vert/frag            # PBR å‰å‘æ¸²æŸ“
â”‚   â”œâ”€â”€ gbuffer.vert/frag        # G-Buffer å‡ ä½•é€šé“
â”‚   â”œâ”€â”€ deferred_lighting.vert/frag  # å»¶è¿Ÿå…‰ç…§é€šé“
â”‚   â”œâ”€â”€ ssr.vert/frag            # å±å¹•ç©ºé—´åå°„
â”‚   â””â”€â”€ water.vert/frag          # æ°´é¢ç€è‰²å™¨
â”‚
â”œâ”€â”€ assets/                      # èµ„æºæ–‡ä»¶
â”‚   â””â”€â”€ Earth/                   # ç¤ºä¾‹æ¨¡å‹å’Œçº¹ç†
â”‚
â””â”€â”€ build/                       # æ„å»ºè¾“å‡º
    â””â”€â”€ bin/                     # å¯æ‰§è¡Œæ–‡ä»¶
```

---

## ğŸ–¥ï¸ æ¸²æŸ“ç®¡çº¿

### å»¶è¿Ÿæ¸²æŸ“æµç¨‹ (Water Scene Mode)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Deferred Shading Pipeline                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  Pass 1: G-Buffer Pass                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  è¾“å…¥: åœºæ™¯å‡ ä½•ä½“ (Mesh)                                   â”‚   â”‚
â”‚  â”‚  è¾“å‡º: Position | Normal | Albedo | Depth                 â”‚   â”‚
â”‚  â”‚  ç€è‰²å™¨: gbuffer.vert + gbuffer.frag                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                   â”‚
â”‚                              â–¼                                   â”‚
â”‚  Pass 2: SSR Pass                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  è¾“å…¥: G-Buffer (Position, Normal, Depth) + SceneColor   â”‚   â”‚
â”‚  â”‚  è¾“å‡º: Reflection Texture                                 â”‚   â”‚
â”‚  â”‚  ç®—æ³•: Screen-Space Raymarching                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                   â”‚
â”‚                              â–¼                                   â”‚
â”‚  Pass 3: Lighting Pass (Fullscreen Quad)                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  è¾“å…¥: G-Buffer (Position, Normal, Albedo)               â”‚   â”‚
â”‚  â”‚  è¾“å‡º: Lit Scene Color                                    â”‚   â”‚
â”‚  â”‚  ç®—æ³•: Cook-Torrance BRDF (PBR)                          â”‚   â”‚
â”‚  â”‚  ç€è‰²å™¨: deferred_lighting.vert + deferred_lighting.frag â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                   â”‚
â”‚                              â–¼                                   â”‚
â”‚  Pass 4: Water Pass                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  è¾“å…¥: SSR Reflection + Scene Depth + Scene Color        â”‚   â”‚
â”‚  â”‚  è¾“å‡º: Final Water Surface                                â”‚   â”‚
â”‚  â”‚  ç‰¹æ•ˆ: æ³¢çº¹åŠ¨ç”» + åå°„ + æŠ˜å°„                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â”‚                                   â”‚
â”‚                              â–¼                                   â”‚
â”‚                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚                      â”‚  Swapchain  â”‚                            â”‚
â”‚                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å‰å‘æ¸²æŸ“æµç¨‹ (Normal Mode)

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Forward Rendering Pipeline         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                             â”‚
â”‚  Single Pass:                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  è¾“å…¥: Mesh + Textures + UBO          â”‚ â”‚
â”‚  â”‚  è¾“å‡º: Final Color                    â”‚ â”‚
â”‚  â”‚  ç€è‰²å™¨: pbr.vert + pbr.frag          â”‚ â”‚
â”‚  â”‚  ç®—æ³•: Cook-Torrance BRDF             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                    â”‚                        â”‚
â”‚                    â–¼                        â”‚
â”‚            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                 â”‚
â”‚            â”‚  Swapchain  â”‚                 â”‚
â”‚            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ® æ§åˆ¶è¯´æ˜

### ç›¸æœºæ§åˆ¶
| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `W/A/S/D` | ç›¸æœºç§»åŠ¨ |
| `Space` | ç›¸æœºä¸Šå‡ |
| `Shift` | ç›¸æœºä¸‹é™ |
| `é¼ æ ‡å³é”® + ç§»åŠ¨` | ç›¸æœºæ—‹è½¬ |
| `é¼ æ ‡æ»šè½®` | è°ƒæ•´ FOV (ç¼©æ”¾) |

### åœºæ™¯äº¤äº’
| æ“ä½œ | åŠŸèƒ½ |
|------|------|
| `é¼ æ ‡å·¦é”®` | **å°„çº¿æ‹¾å–é€‰æ‹©ç‰©ä½“** |
| `é¼ æ ‡å·¦é”® (UI)` | UI é¢æ¿äº¤äº’ |

### å‡ ä½•ä½“åˆ‡æ¢
| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `1` | åˆ‡æ¢åˆ°çƒä½“ (é»˜è®¤) |
| `2` | åˆ‡æ¢åˆ°ç«‹æ–¹ä½“ |
| `3` | åˆ‡æ¢åˆ°å¹³é¢ |
| `4` | åŠ è½½é¢„è®¾ OBJ æ¨¡å‹ |
| `æ‹–æ‹½ .obj æ–‡ä»¶` | **åŠ è½½è‡ªå®šä¹‰ OBJ æ¨¡å‹** |

### æ¸²æŸ“æ¨¡å¼
| æŒ‰é”® | åŠŸèƒ½ |
|------|------|
| `5` | **åˆ‡æ¢æ°´é¢åœºæ™¯ (å¯ç”¨å»¶è¿Ÿæ¸²æŸ“)** |
| `F1` | **åˆ‡æ¢ UI æ˜¾ç¤º/éšè—** |
| `ESC` | é€€å‡ºç¨‹åº |

## ğŸ¯ ç¼–è¾‘å™¨ UI é¢æ¿

### è°ƒè¯•é¢æ¿ (Debug Panel)
- **æ€§èƒ½ç›‘æ§** - å®æ—¶ FPSã€å¸§æ—¶é—´ç»Ÿè®¡
- **æ¸²æŸ“ç»Ÿè®¡** - é¡¶ç‚¹æ•°ã€ä¸‰è§’å½¢æ•°ã€ç»˜åˆ¶è°ƒç”¨æ•°
- **ç›¸æœºä¿¡æ¯** - ä½ç½®ã€FOVã€æœå‘

### åœºæ™¯å±‚çº§é¢æ¿ (Scene Hierarchy)
- **å®ä½“æ ‘å½¢è§†å›¾** - å¯å±•å¼€/æŠ˜å çš„åœºæ™¯ç»“æ„
- **å®ä½“é€‰æ‹©** - ç‚¹å‡»é€‰æ‹©å®ä½“ï¼Œä¸ 3D è§†å›¾åŒæ­¥
- **å®ä½“ç±»å‹å›¾æ ‡** - Cameraã€Meshã€Light ç­‰ç±»å‹å¯è§†åŒ–

### å±æ€§æ£€æŸ¥å™¨é¢æ¿ (Inspector)
- **å˜æ¢ç»„ä»¶** - å®æ—¶ç¼–è¾‘ä½ç½®ã€æ—‹è½¬ã€ç¼©æ”¾
  - Position (X, Y, Z)
  - Rotation (X, Y, Z) - æ¬§æ‹‰è§’åº¦
  - Scale (X, Y, Z)
- **ç½‘æ ¼æ¸²æŸ“å™¨ç»„ä»¶** - ç½‘æ ¼å’Œæè´¨å¼•ç”¨
- **å®æ—¶æ›´æ–°** - ä¿®æ”¹åç«‹å³åœ¨ 3D è§†å›¾ä¸­ç”Ÿæ•ˆ

### èµ„æºæµè§ˆå™¨é¢æ¿ (Asset Browser)
- **æ–‡ä»¶ç³»ç»Ÿæµè§ˆ** - é€’å½’æ˜¾ç¤º assets/ ç›®å½•
- **æ–‡ä»¶ç±»å‹è¿‡æ»¤** - æ”¯æŒ .objã€.jpgã€.png ç­‰æ ¼å¼
- **æ‹–æ‹½åŠ è½½** - å°†æ¨¡å‹æ–‡ä»¶æ‹–å…¥ 3D è§†å›¾

---

## ğŸ› ï¸ æ„å»ºæŒ‡å—

### ç³»ç»Ÿè¦æ±‚

- **Windows 10/11** æˆ– **macOS 10.15+**
- **Vulkan SDK 1.3+**
- **CMake 3.16+**
- **C++17 ç¼–è¯‘å™¨** (MSVC 2019+ / Clang 12+)

### ä¾èµ–åº“

| åº“ | ç”¨é€” |
|---|---|
| Vulkan | å›¾å½¢ API |
| GLFW | çª—å£å’Œè¾“å…¥ |
| GLM | æ•°å­¦åº“ |
| stb_image | å›¾åƒåŠ è½½ |
| tinyobjloader | OBJ æ¨¡å‹åŠ è½½ |

### Windows æ„å»º

```bash
# å…‹éš†é¡¹ç›®
git clone <repository-url>
cd VEngine

# åˆ›å»ºæ„å»ºç›®å½•
mkdir build && cd build

# é…ç½® (Visual Studio 2022)
cmake .. -G "Visual Studio 17 2022" -A x64

# æ„å»º
cmake --build . --config Release

# è¿è¡Œ
cd bin
./VulkanPBR.exe
```

### macOS æ„å»º

```bash
# å®‰è£…ä¾èµ–
brew install cmake glfw glm

# é…ç½®
mkdir build && cd build
cmake .. -DCMAKE_BUILD_TYPE=Release

# æ„å»º
make -j$(sysctl -n hw.ncpu)

# è¿è¡Œ
./bin/VulkanPBR
```

### ç¼–è¯‘ç€è‰²å™¨

```bash
cd shaders

# ç¼–è¯‘æ‰€æœ‰ç€è‰²å™¨
glslc pbr.vert -o pbr_vert.spv
glslc pbr.frag -o pbr_frag.spv
glslc gbuffer.vert -o gbuffer_vert.spv
glslc gbuffer.frag -o gbuffer_frag.spv
glslc deferred_lighting.vert -o deferred_lighting_vert.spv
glslc deferred_lighting.frag -o deferred_lighting_frag.spv
glslc ssr.vert -o ssr_vert.spv
glslc ssr.frag -o ssr_frag.spv
glslc water.vert -o water_vert.spv
glslc water.frag -o water_frag.spv
```

---

## ğŸ›ï¸ æ¶æ„è®¾è®¡

### æ ¸å¿ƒè®¾è®¡åŸåˆ™

1. **æ¨¡å—åŒ– Pass** - æ¯ä¸ªæ¸²æŸ“é˜¶æ®µæ˜¯ç‹¬ç«‹çš„ç±»ï¼Œæ‹¥æœ‰è‡ªå·±çš„ Pipelineã€Descriptor Poolã€UBO
2. **èµ„æºç‹¬ç«‹** - Pass ä¹‹é—´ä¸å…±äº« Descriptor Setï¼Œé€šè¿‡æ‹·è´æ•°æ®ä¿æŒç‹¬ç«‹æ€§
3. **å‘½ä»¤å°è£…** - åŸå§‹ Vulkan å‘½ä»¤å°è£…åœ¨å„ Pass ç±»å†…éƒ¨ï¼ŒRenderer åªè°ƒç”¨é«˜çº§æ¥å£

### ç±»å›¾æ¦‚è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        VulkanRenderer                            â”‚
â”‚  (ä¸»æ¸²æŸ“å™¨ - åè°ƒæ‰€æœ‰ Passï¼Œç®¡ç†å¸§å¾ªç¯)                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ForwardPass  â”‚     â”‚ GBufferPass   â”‚       â”‚ LightingPass  â”‚
â”‚  å‰å‘æ¸²æŸ“     â”‚     â”‚  å‡ ä½•é˜¶æ®µ     â”‚       â”‚  å…‰ç…§é˜¶æ®µ     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                       â–¼                       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   SSRPass     â”‚     â”‚  WaterPass    â”‚       â”‚    (æ›´å¤š...)   â”‚
â”‚  å±å¹•ç©ºé—´åå°„ â”‚     â”‚  æ°´é¢æ¸²æŸ“     â”‚       â”‚               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                       â”‚                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   RenderPassBase   â”‚
                    â”‚   (æŠ½è±¡åŸºç±»)        â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Pass æ¥å£è§„èŒƒ

```cpp
class RenderPassBase {
public:
    // å½•åˆ¶æ¸²æŸ“å‘½ä»¤
    virtual void recordCommands(VkCommandBuffer cmd, uint32_t frameIndex);
    
    // çª—å£å¤§å°æ”¹å˜æ—¶é‡å»º
    virtual void resize(uint32_t width, uint32_t height);
    
    // å¯ç”¨/ç¦ç”¨
    void setEnabled(bool enable);
};
```

---

## ğŸ—ºï¸ è·¯çº¿å›¾

### âœ… å·²å®Œæˆ (v0.9.0)
- [x] **Vulkan æ¸²æŸ“åŸºç¡€** - Device, SwapChain, Pipeline ç®¡ç†
- [x] **PBR æè´¨ç³»ç»Ÿ** - Cook-Torrance BRDFï¼Œé‡‘å±/éé‡‘å±å·¥ä½œæµ
- [x] **åŒæ¸²æŸ“ç®¡çº¿** - å‰å‘æ¸²æŸ“ + å»¶è¿Ÿæ¸²æŸ“ï¼Œå¯å®æ—¶åˆ‡æ¢
- [x] **G-Buffer å®ç°** - ä¸–ç•Œä½ç½®/æ³•çº¿/Albedo/æ·±åº¦å››é€šé“è¾“å‡º
- [x] **å±å¹•ç©ºé—´åå°„ (SSR)** - å°„çº¿æ­¥è¿›ä¼˜åŒ–ï¼Œæ”¯æŒåå°„å¼ºåº¦æ§åˆ¶
- [x] **æ°´é¢æ¸²æŸ“ç³»ç»Ÿ** - æ³¢çº¹åŠ¨ç”» + åå°„/æŠ˜å°„åˆæˆ
- [x] **ECS æ¶æ„** - åŸºäº EnTT çš„å®ä½“ç»„ä»¶ç³»ç»Ÿ
- [x] **å°„çº¿æ‹¾å–** - AABB åŒ…å›´ç›’äº¤é›†æ£€æµ‹ï¼Œæ”¯æŒ 3D ç‰©ä½“é€‰æ‹©
- [x] **ç¼–è¾‘å™¨ UI** - ImGui é›†æˆï¼Œå¤šé¢æ¿å¸ƒå±€
  - è°ƒè¯•é¢æ¿ (æ€§èƒ½ç›‘æ§)
  - åœºæ™¯å±‚çº§é¢æ¿ (å®ä½“ç®¡ç†)
  - å±æ€§æ£€æŸ¥å™¨ (å®æ—¶ç¼–è¾‘)
  - èµ„æºæµè§ˆå™¨ (æ–‡ä»¶ç®¡ç†)
- [x] **Push Constants** - é«˜é¢‘æ•°æ®ä¼ è¾“ï¼Œæ¯å®ä½“ç‹¬ç«‹å˜æ¢çŸ©é˜µ
- [x] **èµ„æºç®¡ç†** - OBJ æ¨¡å‹åŠ è½½ï¼Œçº¹ç†ç®¡ç†ï¼Œæ‹–æ‹½æ”¯æŒ
- [x] **ç›¸æœºç³»ç»Ÿ** - FPS é£æ ¼ç¬¬ä¸€äººç§°ç›¸æœºï¼Œå¹³æ»‘ç§»åŠ¨

### ğŸš€ è®¡åˆ’ä¸­ (v1.0.0)
- [ ] **å¤šå…‰æºæ”¯æŒ** - ç‚¹å…‰æºã€èšå…‰ç¯ã€æ–¹å‘å…‰æ•°ç»„
- [ ] **é˜´å½±ç³»ç»Ÿ** - Shadow Mapping / Cascaded Shadow Maps (CSM)
- [ ] **ç¯å¢ƒå…‰é®è”½** - Screen-Space Ambient Occlusion (SSAO)
- [ ] **åå¤„ç†ç®¡çº¿** - Bloom, Tone Mapping, Anti-Aliasing (FXAA/TAA)
- [ ] **å¤©ç©ºç›’ç³»ç»Ÿ** - HDR ç¯å¢ƒè´´å›¾ + IBL (åŸºäºå›¾åƒçš„å…‰ç…§)
- [ ] **æè´¨ç¼–è¾‘å™¨** - èŠ‚ç‚¹å¼æè´¨ç¼–è¾‘ï¼Œå®æ—¶é¢„è§ˆ
- [ ] **åœºæ™¯åºåˆ—åŒ–** - JSON æ ¼å¼åœºæ™¯ä¿å­˜/åŠ è½½

### ğŸŒŸ é•¿æœŸè§„åˆ’ (v2.0+)
- [ ] **éª¨éª¼åŠ¨ç”»** - Skinned Mesh Animation + åŠ¨ç”»çŠ¶æ€æœº
- [ ] **ç‰©ç†ç³»ç»Ÿ** - ç¢°æ’æ£€æµ‹ + åˆšä½“ç‰©ç† (Bullet Physics é›†æˆ)
- [ ] **ç²’å­ç³»ç»Ÿ** - GPU Compute Shader é©±åŠ¨çš„ç²’å­æ¸²æŸ“
- [ ] **åœ°å½¢ç³»ç»Ÿ** - Heightmap + å¤šçº¹ç†æ··åˆ + LOD
- [ ] **éŸ³é¢‘ç³»ç»Ÿ** - 3D ç©ºé—´éŸ³æ•ˆ + éŸ³é¢‘èµ„æºç®¡ç†
- [ ] **è„šæœ¬ç³»ç»Ÿ** - Lua/C# è„šæœ¬ç»‘å®š + çƒ­é‡è½½
- [ ] **ç½‘ç»œæ¶æ„** - å¤šäººæ¸¸æˆç½‘ç»œåŒæ­¥æ¡†æ¶

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [Vulkan Tutorial](https://vulkan-tutorial.com/)
- [Learn OpenGL - PBR](https://learnopengl.com/PBR/Theory)
- [Real-Time Rendering 4th Edition](http://www.realtimerendering.com/)
- [GDC - Deferred Shading](https://www.gdcvault.com/)

---

## ğŸ“„ è®¸å¯è¯

MIT License - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶

---

<p align="center">
  <b>V Engine</b> - æ„å»ºä½ çš„æ¸¸æˆä¸–ç•Œ ï¿½
</p>
